# P-001: Example Receiver Service

## Project Overview
Build a reference implementation of a message consumer service that subscribes to Redis events, writes messages to rotating files, and exposes REST API for file browsing.

## Scopes and Tasks

### Scope 1: Project Setup and Dependencies
[ ] Create requirements.txt with FastAPI, uvicorn, and redis
[ ] Create homehelper.json manifest file
[ ] Create basic app.py structure with argument parsing
[ ] Setup logging configuration
[ ] Test basic app startup

### Scope 2: Redis Subscriber Implementation
[ ] Implement Redis connection setup
[ ] Create message validation function
[ ] Implement background thread for Redis subscription
[ ] Add error handling for Redis connection failures
[ ] Test message reception from Redis

### Scope 3: File Management System
[ ] Create data directory structure
[ ] Implement file writing function with rotation logic
[ ] Add threading lock for concurrent access
[ ] Implement file metadata scanning function
[ ] Test file rotation after 10 messages

### Scope 4: REST API Endpoints
[ ] Implement /health endpoint with status logic
[ ] Implement /ui endpoint
[ ] Implement /api/files endpoint (list files)
[ ] Implement /api/files/{id} endpoint (single file)
[ ] Add error handling and 404 responses

### Scope 5: Testing and Documentation
[ ] Create README.md with usage examples
[ ] Test with manual Redis messages
[ ] Test all API endpoints
[ ] Test file rotation and persistence
[ ] Test graceful shutdown

## Next Steps
Start with Scope 1: Project Setup and Dependencies
